# AutoExtract2

**AutoExtract2** ‚Äî —ç—Ç–æ –≤–µ–±-—Å–∫—Ä–∞–ø–ø–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Å–∞–π—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `crawl4ai` –∏ OpenAI API.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–∞—Ä—Å–∏—Ç—å HTML –≤ Markdown –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å –ø–æ–º–æ—â—å—é LLM.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–∑ GitHub:
```bash
git clone https://github.com/meddash/AutoExtract2.git
cd AutoExtract2
```

### 2Ô∏è‚É£ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python (–≤–µ—Ä—Å–∏—è 3.7+).  
–ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
```bash
pip install -r requirements.txt
```

### 3Ô∏è‚É£ **–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∞–ø–ø–µ—Ä–∞**
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
python webscraper.py --url "https://example.com" --output "data.json" --prompt "–ò–∑–≤–ª–µ–∫–∏ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–∞–º–∏" --api_key "sk-123456"
```

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `--url`    | –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É, —Å –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ |
| `--output` | –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (`.json`, `.txt`, `.csv` –∏ —Ç. –¥.) |
| `--prompt` | –¢–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ OpenAI API |
| `--api_key` | API-–∫–ª—é—á OpenAI (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å [–∑–¥–µ—Å—å](https://platform.openai.com/signup/)) |

---

## üìå **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
1. **–°–∫—Ä–∞–ø–ø–µ—Ä** –∑–∞–≥—Ä—É–∂–∞–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É `URL`.  
2. **–ö–æ–¥ `crawl4ai`** –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ—ë –≤ Markdown.  
3. **OpenAI API** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º `prompt`.  
4. **–ì–æ—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (`.json`, `.txt`, `.csv` –∏ —Ç. –¥.).

---

## üìÇ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
üìÅ AutoExtract2
‚îÇ‚îÄ‚îÄ webscraper.py       # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –≤–µ–±-—Å–∫—Ä–∞–ø–ø–µ—Ä–∞
‚îÇ‚îÄ‚îÄ scraper_test.py     # –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã
‚îÇ‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É
‚îÇ‚îÄ‚îÄ requirements.txt    # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

---

## üìÑ **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ JSON**
```bash
python webscraper.py --url "https://brandshop.ru/muzhskoe/" --output "products.json" --prompt "–ò–∑–≤–ª–µ–∫–∏ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏" --api_key "sk-123456"
```
üìå **–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç?**  
1. –î–∞–Ω–Ω—ã–µ —Å `https://brandshop.ru/muzhskoe/` –±—É–¥—É—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.  
2. OpenAI API –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å `prompt: "–ò–∑–≤–ª–µ–∫–∏ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏"`.  
3. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `products.json`.

**–ü—Ä–∏–º–µ—Ä `products.json`:**
```json
{
    "prompt": "–ò–∑–≤–ª–µ–∫–∏ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏",
    "choices": [
        {
            "message": {
                "role": "assistant",
                "content": [
                    {
                        "–ù–∞–∑–≤–∞–Ω–∏–µ": "Dr. Martens –ë–æ—Ç–∏–Ω–∫–∏ 1461 Bex Smooth",
                        "–¶–µ–Ω–∞": "23 890 ‚ÇΩ",
                        "–§–æ—Ç–æ": "https://brandshop.ru/images/example1.jpg"
                    },
                    {
                        "–ù–∞–∑–≤–∞–Ω–∏–µ": "Kangol –ú—É–∂—Å–∫–æ–π —Å–≤–∏—Ç–µ—Ä College Varsity",
                        "–¶–µ–Ω–∞": "13 590 ‚ÇΩ",
                        "–§–æ—Ç–æ": "https://brandshop.ru/images/example2.jpg"
                    }
                ]
            }
        }
    ]
}
```

---

### ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª**
```bash
python webscraper.py --url "https://brandshop.ru/muzhskoe/" --output "output.txt" --prompt "–û–ø—Ä–µ–¥–µ–ª–∏ –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã" --api_key "sk-123456"
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –≤ `output.txt`.

---

### ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ CSV (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)**
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `CSV`, –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å `products.json` –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ `CSV` —Å –ø–æ–º–æ—â—å—é `pandas`.

```python
import pandas as pd
import json

with open("products.json", "r", encoding="utf-8") as file:
    data = json.load(file)

df = pd.DataFrame(data["choices"][0]["message"]["content"])
df.to_csv("products.csv", index=False)
print("‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ products.csv")
```

---

## üõ† **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
- `asyncio`, `aiohttp` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- `crawl4ai` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –≤ Markdown
- `requests`, `json` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ API-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–£—Å—Ç–∞–Ω–æ–≤–∏ –≤—Å—ë –∫–æ–º–∞–Ω–¥–æ–π:
```bash
pip install -r requirements.txt
```

---

## üî• **–ü–ª–∞–Ω—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é**
- üîπ –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö LLM
- üîπ –ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É output —Ñ–∞–π–ª–æ–≤
- üîπ –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
---

## üìÑ **–õ–∏—Ü–µ–Ω–∑–∏—è**
**MIT License**.

